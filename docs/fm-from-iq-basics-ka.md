# FM მოდულაცია IQ მონაცემებიდან – საფუძვლები (ქართული)

ეს არის მოკლე ქართული ვერსია ჩემი FM ჩანაწერისა: როგორ მუშაობს
სიხშირითი მოდულაცია (FM) და როგორ ვხედავთ მას IQ მონაცემებში.

---

## 1. რას ნიშნავს FM?

FM = Frequency Modulation – სიხშირითი მოდულაცია.

იდეა:

- გვაქვს მატარებელი სიგნალი (carrier) გარკვეულ სიხშირეზე f_c
  (მაგალითად 100.3 MHz),
- აუდიო სიგნალი m(t) (მუსიკა/ხმა) **ცვლის მატარებლის სიხშირეს** f_c-ის
  გარშემო.

ამპლიტუდა მეტ-ნაკლებად უცვლელია, ინფორმაცია ძირითადად იმაშია,
თუ რა სიჩქარით „ტრიალებს“ ფაზა ანუ რა არის **მყისიერი სიხშირე**.

იმიტომაც ეწოდება „frequency“ მოდულაცია.

---

## 2. FM IQ სივრცეში: ამპლიტუდა vs ფაზა

IQ სამყაროში სიგნალს ასე ვწერთ:

> s(t) = I(t) + j·Q(t)

ეს შეიძლება გადავწეროთ პოლარულ ფორმაში:

> s(t) = A(t) · e^{j·φ(t)}

სადაც:

- A(t) = ამპლიტუდა = √(I² + Q²),
- φ(t) = ფაზა = atan2(Q, I).

FM-ის შემთხვევაში:

- A(t) ≈ მუდმივი (ამპლიტუდაში ინფორმაცია თითქმის არ არის),
- ინფორმაცია არის **ფაზის ცვლილებაში**,
- მყისიერი სიხშირე პროპორციულია dφ(t)/dt-ის ანუ ფაზის წარმოებულის.

ინტუიციურად:

- IQ ბრტყელზე კომპლექსური ვექტორი ტრიალებს,
- ტრიალის სიჩქარე = მყისიერი სიხშირე,
- ამ სიჩქარის ცვლილებები → აუდიო.

---

## 3. FM სპექტრში და ვოთერფოლში

როცა HackRF-ით FM სადგურზე დავტიუნდებით:

- **სპექტრში** ვნახავთ ფართო „ბორცვს“ (დაახლოებით 150–200 kHz სიგანის),
- **ვოთერფოლში** – სქელ ჰორიზონტალურ ზოლს, რომელიც მუდმივადაა.

ვიწრო სიგნალი → თხელი ხაზის მსგავსი სპექტრში  
ფართოზოლიანი FM → ფართო, „გადაღვრილი“ ბორცვი.

---

## 4. FM დემოდულაციის იდეა (ზედმეტი მათემატიკის გარეშე)

ვფიქრობთ ისევ:

> s(t) = A(t) · e^{j·φ(t)}

თუ ამპლიტუდა გავუტოლეთ 1-ს:

> s_norm(t) = e^{j·φ(t)}

თუ შევხედავთ, როგორ იცვლება ფაზა დროის განმავლობაში:

> φ[n] - φ[n−1]

ეს განსხვავება პროპორციულია მყისიერ სიხშირეს → ანუ აუდიოს.

პრაქტიკულად ხშირად იყენებენ ასეთ ხრიკს:

1. ვნორმალიზებთ მასივს:

   > s_norm[n] = s[n] / |s[n]|

2. გამოთვლით:

   > z[n] = s_norm[n] · conj(s_norm[n−1])

3. იღებთ კუთხეს:

   > audio[n] = angle(z[n])

ამ audio[n] არის უკვე FM დემოდულირებული სიგნალი (გაუსუფთავებელი,
მაგრამ პრინციპულად სწორი).

---

## 5. ძალიან მარტივი FM დემო (Python-ში)

ამ რეპოზიტორში არის `examples/fm_demo_from_file.py`, რომელიც:

- კითხულობს complex64 IQ ფაილს (მაგ. `fm_recording.cfile`),
- აკეთებს ასეთ მარტივ FM დემოდულაციას,
- ინახავს შედეგს WAV აუდიო ფაილად.

ეს **სწავლითი მაგალითია** – არა სრულყოფილი FM მიმღები, მაგრამ:

- გვაჩვენებს, როგორ მივიღოთ აუდიო IQ-დან,
- გვაწვდის ინტუიციას, რას აკეთებს „Quadrature Demod“ ბლოკი GNU Radio-ში.

---

## 6. რა მინდა შემდეგ გავიგო

შემდეგი ნაბიჯები ამ თემაზე:

- დავინახო, როგორ განსხვავდება FM სხვა მოდულაციებისგან (AM, FSK, PSK),
- დავამატო გრამატული ფილტრები და downsample-ის უკეთესი ვარიანტები,
- დავწერო პატარა ტუტორიალი ქართულად:
  - როგორ ჩავწეროთ FM IQ HackRF-ით,
  - როგორ გადმოვიტანოთ ფაილი,
  - როგორ დავამუშავოთ Python-ით ან GNU Radio-თი.

ამ ეტაპზე ეს ტექსტი არის **ფუძე**, რომ FM-ი ვიყო არა უბრალოდ „პროგრამაში
გადაცემული ღილაკი“, არამედ რაღაც, რაც დაახლოებით მესმის, რა ხდება შიგნით.
